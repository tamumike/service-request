<div>
  <button class="esr-button" [routerLink]="['request-list']">Go Back</button>

  <div class="container RequestCreate">
    <h1 class="esr-component-header">Create New Request</h1>
    <app-divider></app-divider>
    <form [formGroup]="createRequestForm" (ngSubmit)="createRequest()">

      <div class="form-group">
        <label class="esr-label" for="requestDate">Request Date:</label>
        <input type="text"
        autocomplete="off"
        formControlName="requestDate"
        class="form-control esr-text-input"
        bsDatepicker
        [ngClass]="{'is-invalid': createRequestForm.get('requestDate').errors && createRequestForm.get('requestDate').touched}"
        [bsConfig]="{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-default', adaptivePosition: true, isAnimated: false }">
        <div class="invalid-feedback">Date is invalid.</div>
      </div>

      <div class="form-group">
        <label class="esr-label" for="title">Title:</label>
        <input
          type="text"
          formControlName="title"
          [ngClass]="{'is-invalid': createRequestForm.get('title').errors && createRequestForm.get('title').touched}"
          class="form-control esr-text-input">
          <div class="invalid-feedback">Please enter a title.</div>
      </div>

      <div class="form-group">
        <label class="esr-label" for="location">Location:</label>
        <select
        class="form-control esr-select"
        formControlName="location"
        [ngClass]="{'is-invalid': createRequestForm.get('location').errors && createRequestForm.get('location').touched}">
          <option *ngFor="let location of locations" value="{{ location.name }}">{{ location.name }}</option>
        </select>
        <div class="invalid-feedback">Please choose a location for the request.</div>
      </div>

      <div class="form-group">
        <label class="esr-label" for="description">Description: </label>
        <textarea
        class="esr-text-area form-control"
        formControlName="description"
        placeholder="Enter Description..."
        [ngClass]="{'is-invalid': createRequestForm.get('description').errors && createRequestForm.get('description').touched}"
        >
        </textarea>
        <div class="invalid-feedback">Please enter a description for the request.</div>
      </div>

      <div class="form-group">
        <label class="esr-label" for="deliverables">Deliverables: </label>
        <textarea
        class="esr-text-area form-control"
        formControlName="deliverables"
        placeholder="Enter Deliverables..."
        [ngClass]="{'is-invalid': createRequestForm.get('deliverables').errors && createRequestForm.get('deliverables').touched}"
        >
        </textarea>
        <div class="invalid-feedback">Please enter the deliverables needed for the request.</div>
      </div>

      <div class="form-group">
        <label class="esr-label" for="attachments">Attachments:</label>
        <input type="file" multiple="true" class="esr-file-input form-control" formControlName="attachments"(change)="handleInputFile($event.target.files)"
        [ngClass]="{'is-invalid': createRequestForm.get('attachments').errors && createRequestForm.get('attachments').touched}">
        <div class="invalid-feedback">Please include attachments with your request.</div>
      </div>
      <button class="esr-button esr-button-success mt-4" type="submit">Submit</button>

    </form>
  </div>


</div>
